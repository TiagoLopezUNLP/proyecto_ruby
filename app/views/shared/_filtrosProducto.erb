<div class="bg-slate-800/60 rounded-3xl border border-slate-700/60 shadow-2xl p-6 mb-8">
  <%= search_form_for @q, url: path, method: :get, html: { class: "space-y-4" } do |f| %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
      
      <!-- FILTRO POR NOMBRE -->
      <div class="space-y-2">
        <%= f.label :nombre_cont, "Buscar por nombre", class: "block text-sm font-medium text-slate-300" %>
        <%= f.search_field :nombre_cont, 
            class: "w-full rounded-xl border border-slate-600 bg-slate-900/70 px-4 py-2 text-slate-100 placeholder-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 transition text-sm",
            placeholder: "Nombre del producto" %>
      </div>

      <!-- FILTRO POR AUTOR -->
      <div class="space-y-2">
        <%= f.label :autor_id_eq, "Autor", class: "block text-sm font-medium text-slate-300" %>
        <%= f.collection_select :autor_id_eq, Autor.all, :id, :nombre,
            { include_blank: "Todos" },
            class: "w-full rounded-xl border border-slate-600 bg-slate-900/70 px-4 py-2 text-slate-100 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 transition text-sm" %>
      </div>

      <!-- FILTRO POR CATEGORÍA -->
      <div class="space-y-2">
        <%= f.label :categoria_id_eq, "Categoría", class: "block text-sm font-medium text-slate-300" %>
        <%= f.collection_select :categoria_id_eq, Categorium.all, :id, :nombre,
            { include_blank: "Todas" },
            class: "w-full rounded-xl border border-slate-600 bg-slate-900/70 px-4 py-2 text-slate-100 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 transition text-sm" %>
      </div>

      <!-- FILTRO POR ESTADO -->
      <div class="space-y-2">
        <%= f.label :estado_eq, "Estado", class: "block text-sm font-medium text-slate-300" %>
        <%= f.select :estado_eq, 
            options_for_select([
              ['Nuevo', Producto.estados[:nuevo]],
              ['Usado', Producto.estados[:usado]]
            ], params.dig(:q, :estado_eq)),
            { include_blank: "Todos" },
            class: "w-full rounded-xl border border-slate-600 bg-slate-900/70 px-4 py-2 text-slate-100 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 transition text-sm" %>
      </div>

      <!-- FILTRO POR TIPO -->
      <div class="space-y-2">
        <%= f.label :tipo_eq, "Tipo", class: "block text-sm font-medium text-slate-300" %>
        <%= f.select :tipo_eq, 
            options_for_select([
              ['CD', Producto.tipos[:cd]],
              ['Vinilo', Producto.tipos[:vinilo]]
            ], params.dig(:q, :tipo_eq)),
            { include_blank: "Todos" },
            class: "w-full rounded-xl border border-slate-600 bg-slate-900/70 px-4 py-2 text-slate-100 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 transition text-sm" %>
      </div>

    </div>

    <!-- BOTONES -->
    <div class="flex gap-3 justify-end">
      <%= link_to "Limpiar", path, 
          class: "rounded-xl bg-slate-700 hover:bg-slate-600 px-6 py-2 text-sm font-semibold text-white transition" %>
      <%= f.submit "Filtrar", 
          class: "rounded-xl bg-indigo-500 hover:bg-indigo-400 px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-indigo-500/30 transition" %>
    </div>

  <% end %>
</div>