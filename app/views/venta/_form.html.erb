<!-- filepath: c:\Users\Tiago\ejemplo_ruby\app\views\venta\_form.html.erb -->
<div class="bg-slate-800/60 rounded-3xl border border-slate-700/60 p-10 shadow-2xl">
  <div class="text-center space-y-2 mb-8">
    <div class="mx-auto h-12 w-12 rounded-full bg-indigo-500/20 flex items-center justify-center">
      <svg class="h-7 w-7 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
      </svg>
    </div>
    <h2 class="text-2xl font-semibold text-white tracking-tight">Datos del Comprador</h2>
    <p class="text-sm text-slate-400">Paso 2: Completa la información</p>
  </div>

  <%= form_with(model: ventum, url: finalizar_venta_path, method: :post, class: "space-y-6") do |form| %>
    <% if ventum.errors.any? %>
      <div class="rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3">
        <h3 class="text-sm font-semibold text-red-200 mb-2">
          <%= pluralize(ventum.errors.count, "error") %> impidieron guardar esta venta:
        </h3>
        <ul class="list-disc list-inside text-sm text-red-300 space-y-1">
          <% ventum.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="space-y-2">
      <%= form.label :NyA_comprador, "Nombre y Apellido", class: "block text-sm font-medium text-slate-300" do %>
        Nombre y Apellido <span class="text-red-400">*</span>
      <% end %>
      <%= form.text_field :NyA_comprador,
          required: true,
          minlength: 3,
          maxlength: 100,
          class: "w-full rounded-xl border border-slate-600 bg-slate-900/70 px-4 py-3 text-slate-100 placeholder-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 transition",
          placeholder: "Ej: Juan Pérez" %>
    </div>

    <div class="space-y-2">
      <%= form.label :dni_comprador, "DNI", class: "block text-sm font-medium text-slate-300" do %>
        DNI <span class="text-red-400">*</span>
      <% end %>
      <%= form.number_field :dni_comprador,
          required: true,
          min: 1000000,
          max: 99999999,
          class: "w-full rounded-xl border border-slate-600 bg-slate-900/70 px-4 py-3 text-slate-100 placeholder-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 transition",
          placeholder: "Ej: 12345678" %>
    </div>

    <div class="flex gap-4 pt-4">
      <%= link_to "← Volver al carrito", nueva_venta_path,
          class: "w-full text-center rounded-xl bg-slate-700 hover:bg-slate-600 px-4 py-3 text-sm font-semibold text-white transition" %>
      <%= form.submit "Finalizar Venta",
          data: { 
            turbo_submits_with: "Procesando...",
            disable_with: "Procesando..."
          },
          class: "w-full rounded-xl bg-indigo-500 hover:bg-indigo-400 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-indigo-500/30 transition transform hover:-translate-y-0.5" %>
    </div>
  <% end %>
</div>